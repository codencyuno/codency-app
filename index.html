<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0"/>
        <link rel="icon" type="image/png" sizes="32x32" href="https://www.codency.uno/assets/images/favicon-64x64.png">
        <title>Dashboard - Codency</title>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <script src="https://cdn.tailwindcss.com"></script>        <style>
        html, body {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }
        </style>
    </head>

    <body class="font-['Montserrat'] min-h-screen bg-[#FAFAF5] dark:bg-gray-900">
        <div class="flex min-h-screen">
                        <!-- Sidebar -->
                        <div class="w-15 md:w-15 lg:w-40 bg-white dark:bg-gray-800 shadow-lg rounded md:rounded-lg lg:rounded-xl ml-2 mt-2 mb-2 md:ml-4 md:mt-4 md:mb-4 lg:ml-6 lg:mt-4 lg:mb-6">
                            <div class="p-4 hidden lg:flex justify-center items-center">
                                <img src="logo-colored.png" alt="Codency Logo" class="w-24 mb-4 rounded-full">
                            </div>        
                        <nav class="mt-4">
                        <a href="#home" class="nav-link flex items-center justify-start p-4 mx-2 rounded-full text-gray-700 dark:text-gray-200">
                            <svg class="w-6 h-6 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"/>
                            </svg>
                            <span class="hidden lg:inline text-sm">Dashboard</span>
                        </a>
                        <a href="#inventory" class="nav-link flex items-center justify-start p-4 mx-2 rounded-full text-gray-700 dark:text-gray-200">
                            <svg class="w-6 h-6 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
                            </svg>
                            <span class="hidden lg:inline text-sm">Inventory</span>
                        </a>

                        <a href="#notifications" class="nav-link flex items-center justify-start p-4 mx-2 rounded-full text-gray-700 dark:text-gray-200">
                            <svg class="w-6 h-6 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                            </svg>
                            <span class="hidden lg:inline text-sm">Notify</span>
                        </a>

                        <a href="#marketing" class="nav-link flex items-center justify-start p-4 mx-2 rounded-full text-gray-700 dark:text-gray-200">
                            <svg class="w-6 h-6 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
                            </svg>
                            <span class="hidden lg:inline text-sm">Marketing</span>
                        </a>

                        <a href="#profile" class="nav-link flex items-center justify-start p-4 mx-2 rounded-full text-gray-700 dark:text-gray-200">
                            <svg class="w-6 h-6 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                            <span class="hidden lg:inline text-sm">Profile</span>
                        </a>
                        </nav>  
                        <div class="fixed bottom-2 left-1 md:left-3 lg:left-5 pl-1 pb-4 w-full">
                            <!-- support -->                            
                            <button class="flex items-center justify-start pl-0 p-4 mx-2 rounded-full text-gray-700 dark:text-gray-200 w-full">
                                <video class="w-14 h-14" autoplay loop muted playsinline>
                                    <source src="support.webm" type="video/webm">
                                </video>
                                <span class="hidden lg:inline text-sm">Support</span>
                            </button>                                                        
                            <button class="flex items-center justify-start p-4 mx-2 rounded-full text-red-500 dark:text-red-500 w-full">
                                <svg class="w-6 h-6 lg:mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                                </svg>
                                <span class="hidden lg:inline text-sm">Logout</span>
                            </button>                            
                        </div>
                        </div>
                        <!-- Sidebar Script-->
                        <script>
                            document.addEventListener('DOMContentLoaded', function () {
                                const navLinks = document.querySelectorAll('.nav-link');
                                const sections = document.querySelectorAll('.section'); // More specific

                                // Hide all sections initially
                                sections.forEach(section => {
                                    section.classList.add('hidden');
                                });

                                // Show home section by default
                                document.getElementById('home').classList.remove('hidden');
                                document.querySelector('a[href="#home"]').classList.add('bg-[#F9D43A]');

                                navLinks.forEach(link => {
                                    link.addEventListener('click', function (e) {
                                        e.preventDefault();
                                        const targetId = this.getAttribute('href').substring(1);

                                        // Hide all sections
                                        sections.forEach(section => {
                                            section.classList.add('hidden');
                                        });

                                        // Show target section
                                        const targetSection = document.getElementById(targetId);
                                        if (targetSection) {
                                            targetSection.classList.remove('hidden');
                                        }

                                        // Update active nav link state
                                        navLinks.forEach(navLink => {
                                            navLink.classList.remove('bg-[#F9D43A]');
                                        });
                                        this.classList.add('bg-[#F9D43A]');
                                    });
                                });
                            });
                        </script>
    
                    
                        <!-- Main Content -->
                        <div class="flex-1 flex flex-col p-2 md:p-4 lg:p-4">

                            <!-- Home Section -->
                            <div id="home" class="section flex flex-col flex-1">
                                    <div class="bg-white dark:bg-gray-800 rounded-lg p-2 md:p-2 lg:p-3 mb-1 md:mb-2 lg:mb-3 shadow-lg">
                                            <div class="flex items-center gap-4">
                                                <div>
                                                    <h2 class="text-sm md:text-base lg:text-lg font-bold mb-1 dark:text-white">Welcome!</h2>
                                                    <p class="text-xs md:text-sm lg:text-sm text-gray-600 dark:text-gray-300" id="inventorySlots"></p>
                                                    <button id="upgradeBtn" class="mt-1 bg-[#F9D43A] hover:bg-[#F9D43A]/80 text-xs md:text-sm lg:text-sm text-black px-1 md:px-2 lg:px-2 py-1 rounded">Upgrade</button>
                                                </div>
                                                <video autoplay loop muted playsinline class="w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-lg">
                                                    <source src="cart-animation.webm" type="video/webm">
                                                </video>
                                            </div>
                                            <!-- Text and Upgrade btn Logic -->
                                            <script>
                                                function updateInventoryInfo() {
                                                const tier = localStorage.getItem('tier') || '1';
                                                const slots = {
                                                    '1': 0,
                                                    '2': 2,
                                                    '3': 4,
                                                    '4': 6,
                                                    '5': 8
                                                };
                                            
                                                const slotsText = document.getElementById('inventorySlots');
                                                const upgradeBtn = document.getElementById('upgradeBtn');
                                            
                                                slotsText.textContent = `Your account has ${slots[tier]} inventory slots`;
                                            
                                                if (tier === '5') {
                                                    upgradeBtn.classList.add('hidden');
                                                } else {
                                                    upgradeBtn.classList.remove('hidden');
                                                }
                                                }
                                            
                                                document.addEventListener('DOMContentLoaded', () => {
                                                    updateInventoryInfo();
                                                    setInterval(updateInventoryInfo, 2000);
                                                });
                                            </script>            
                                    </div>
                                    <!-- Stats Cards -->
                                    <div class="grid grid-cols-2 lg:grid-cols-4 md:grid-cols-4 gap-1 md:gap-2 lg:gap-3">
                                        <!-- Balance Card -->
                                        <div class="bg-white dark:bg-gray-800 rounded-lg p-2 pl-2 md:pl-2 lg:pl-3 shadow-lg">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm md:text-base lg:textlg text-gray-500 dark:text-gray-400">Balance</p>
                                                    <h3 class="text-xl md:text-2xl lg:text-3xl font-bold dark:text-white" id="balanceDisplay">...</h3>
                                                </div>
                                                <svg class="w-8 h-8 text-[#F9D43A]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6a2 2 0 012-2h14a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6zm2-2v2h14V4H5zm0 4v10h14V8H5zm4 3h6m-6 3h6"></path>
                                                </svg>
                                            </div>
                                        </div>                                    
                                        <!-- Total Profits Card -->
                                        <div class="bg-white dark:bg-gray-800 rounded-lg p-2 pl-2 md:pl-2 lg:pl-3 shadow-lg">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm md:text-base lg:textlg text-gray-500 dark:text-gray-400">Profits</p>
                                                    <h3 class="text-xl md:text-2xl lg:text-3xl font-bold dark:text-white" id="profitsDisplay">...</h3>
                                                </div>
                                                <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"></path>
                                                </svg>
                                            </div>
                                        </div>
                                    
                                        <!-- Packs Sold Card -->
                                        <div class="bg-white dark:bg-gray-800 rounded-lg p-2 pl-2 md:pl-2 lg:pl-3 shadow-lg">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm md:text-base lg:textlg text-gray-500 dark:text-gray-400">Sales</p>
                                                    <h3 class="text-xl md:text-2xl lg:text-3xl font-bold dark:text-white" id="packsSoldDisplay">...</h3>
                                                </div>
                                                <svg class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                                                </svg>
                                            </div>
                                        </div>

                                    
                                        <!-- Inventory Count Card -->
                                        <div class="bg-white dark:bg-gray-800 rounded-lg p-2 pl-2 md:pl-2 lg:pl-3 shadow-lg">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="text-sm md:text-base lg:textlg text-gray-500 dark:text-gray-400">Inventory</p>
                                                    <h3 class="text-xl md:text-2xl lg:text-3xl font-bold dark:text-white" id="inventoryCountDisplay">...</h3>
                                                </div>
                                                <svg class="w-8 h-8 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <script>
                                        function updateStats() {
                                            const balance = localStorage.getItem('balance') || '0';
                                            const tProfits = localStorage.getItem('tProfits') || '0';
                                            const pSold = localStorage.getItem('pSold') || '0';
                                            const iCount = localStorage.getItem('iCount') || '0';
                                            const currency = localStorage.getItem('currency') || '1';
                                            const tier = localStorage.getItem('tier') || '1';
                                    
                                            const currencySymbols = {
                                                '1': '$',
                                                '2': 'Â£',
                                                '3': 'â‚¬'
                                            };

                                            const tierSlots = {
                                                '1': 0,
                                                '2': 2,
                                                '3': 4,
                                                '4': 6,
                                                '5': 8
                                            };
                                    
                                            const symbol = currencySymbols[currency];
                                            const slots = tierSlots[tier];
                                    
                                            document.getElementById('balanceDisplay').textContent = `${symbol}${balance}`;
                                            document.getElementById('profitsDisplay').textContent = `${symbol}${tProfits}`;
                                            document.getElementById('packsSoldDisplay').textContent = pSold;
                                            document.getElementById('inventoryCountDisplay').textContent = `${iCount}/${slots}`;
                                        }
                                    
                                        document.addEventListener('DOMContentLoaded', () => {
                                            updateStats();
                                            setInterval(updateStats, 2000);
                                        });
                                    </script>
                                    
                                    <div class="flex gap-4 pt-4 flex-grow">
                                        
                                        <div class="w-full sm:w-3/4 lg:w-3/4 bg-transparent p-0 rounded-lg shadow relative">
                                            <div class="absolute left-2 top-1/2 transform -translate-y-1/2 z-10">
                                                <button id="scrollLeft" class="p-3 bg-[#F9D43A]/70 text-white rounded-full hover:bg-[#F9D43A]/90 active:scale-95 backdrop-blur-sm shadow-lg">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                                                    </svg>
                                                </button>
                                            </div>
                                            <div class="absolute right-2 top-1/2 transform -translate-y-1/2 z-10">
                                                <button id="scrollRight" class="p-3 bg-[#F9D43A]/70 text-white rounded-full hover:bg-[#F9D43A]/90 active:scale-95 backdrop-blur-sm shadow-lg">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                                    </svg>
                                                </button>
                                            </div>
                                            <div id="productContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                                <div class="animate-pulse flex space-x-4">
                                                    <div class="rounded-lg bg-slate-200 h-[300px] w-full"></div>
                                                </div>
                                            </div>
                                            <script>
                                                let currentIndex = 0;
                                                let allProducts = [];

                                                const tiers = {
                                                    '1': { name: 'Explorer', color: 'bg-gray-200 text-gray-800', icon: 'ðŸŒŸ' },
                                                    '2': { name: 'Starter', color: 'bg-blue-200 text-blue-800', icon: 'â­' },
                                                    '3': { name: 'Reseller', color: 'bg-green-200 text-green-800', icon: 'ðŸ’«' },
                                                    '4': { name: 'Power', color: 'bg-purple-200 text-purple-800', icon: 'âš¡' },
                                                    '5': { name: 'Titan', color: 'bg-yellow-200 text-yellow-800', icon: 'ðŸ‘‘' }
                                                };

                                                const currencySymbols = {
                                                    '1': '$',
                                                    '2': 'Â£',
                                                    '3': 'â‚¬'
                                                };

                                                const currencyRates = {
                                                    '1': 1,
                                                    '2': 0.743,
                                                    '3': 0.881
                                                };

                                                function convertCurrency(amount) {
                                                    const userCurrency = localStorage.getItem('currency') || '1';
                                                    return amount * currencyRates[userCurrency];
                                                }

                                                function getCurrencySymbol() {
                                                    const userCurrency = localStorage.getItem('currency') || '1';
                                                    return currencySymbols[userCurrency];
                                                }

                                                async function fetchCodencyProducts() {
                                                    try {
                                                        const existingProducts = localStorage.getItem('codencyProducts');
                                                        if (existingProducts) {
                                                            allProducts = JSON.parse(existingProducts);
                                                            displayCurrentProducts();
                                                            return;
                                                        }
                                                        
                                                        const res = await fetch('https://render-firebase-server.onrender.com/api/products');
                                                        const data = await res.json();
                                                        localStorage.setItem('codencyProducts', JSON.stringify(data));
                                                        allProducts = data;
                                                        console.log('Products stored locally.');
                                                        displayCurrentProducts();
                                                    } catch (err) {
                                                        console.error('Failed to fetch product sets:', err);
                                                        const existingProducts = localStorage.getItem('codencyProducts');
                                                        if (existingProducts) {
                                                            allProducts = JSON.parse(existingProducts);
                                                            displayCurrentProducts();
                                                        }
                                                    }
                                                }

                                                function displayCurrentProducts() {
                                                    const container = document.getElementById('productContainer');
                                                    if (!allProducts || allProducts.length === 0) {
                                                        console.log('No products found');
                                                        return;
                                                    }
                                                    
                                                    container.innerHTML = '';

                                                    const viewportWidth = window.innerWidth;
                                                    let productsToShow = viewportWidth >= 1024 ? 3 : viewportWidth >= 768 ? 2 : 1;
                                                    const currencySymbol = getCurrencySymbol();

                                                    for(let i = 0; i < productsToShow; i++) {
                                                        const productIndex = (currentIndex + i) % allProducts.length;
                                                        const product = allProducts[productIndex];
                                                        const tierInfo = tiers[product.tier] || tiers['1'];
                                                        
                                                        const div = document.createElement('div');
                                                        div.className = 'product-card bg-white p-4 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl';
                                                        div.innerHTML = `
                                                            <div class="flex justify-between items-start mb-2">
                                                                <h3 class="font-semibold text-sm sm:text-base text-gray-500 dark:text-gray-400">${product.setName}</h3>
                                                                <span class="text-lg">${tierInfo.icon}</span>
                                                            </div>
                                                            ${product.labels ? `
                                                                <div class="flex gap-2 mb-3">
                                                                    ${product.labels.map(label => `
                                                                        <span class="px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800">${label}</span>
                                                                    `).join('')}
                                                                </div>
                                                            ` : ''}
                                                            <div class="space-y-1.5 text-sm sm:text-base">
                                                            <div class="flex items-center gap-2">
                                                                    <span class="text-sm font-medium">${product.brandName}</span>
                                                                    <div class="flex-1 border-t border-gray-200 mx-2"></div>
                                                                 <span class="text-sm text-gray-600">${product.units} units</span>
                                                            </div>

                                                            <div class="flex items-center gap-2">
                                                                <span class="text-sm text-gray-600">CP: <span class="font-medium">${currencySymbol}${convertCurrency(product.costPerUnit).toFixed(2)}</span></span>
                                                                <div class="flex-1 border-t border-gray-200 mx-2"></div>
                                                                <span class="text-sm text-gray-600">SP: <span class="font-medium">${currencySymbol}${convertCurrency(product.sellPrice).toFixed(2)}</span></span>
                                                             </div>

                                                             <div class="flex items-center gap-2">
                                                                <span class="text-sm text-gray-600">P: <span class="font-medium text-blue-600">${currencySymbol}${convertCurrency(product.sellPrice - product.costPerUnit).toFixed(2)}</span></span>
                                                                    <div class="flex-1 border-t border-gray-200 mx-2"></div>
                                                                <span class="text-sm text-gray-600">ROI: <span class="font-medium text-blue-600">${((product.sellPrice - product.costPerUnit) / product.costPerUnit * 100).toFixed(2)}%</span></span>
                                                            </div>
                                                                <div class="flex items-center gap-2">
                                                                    <span class="text-sm text-gray-600">Earn: <span class="font-medium text-green-600">${currencySymbol}${convertCurrency((product.sellPrice - product.costPerUnit) * product.units * 0.6).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, " ")}</span></span>
                                                                </div>                                                            
                                                            </div>
                                                            <div class="flex items-center gap-2 py-2 border-t border-gray-100">
                                                                <span class="text-xs sm:text-sm text-gray-500">${product.source}</span>
                                                            </div>
                                                            <button 
                                                                class="w-full py-2 px-2 rounded-lg text-sm sm:text-base transition-all duration-300 ${
                                                                    product.tier === localStorage.getItem('tier') 
                                                                    ? `${tierInfo.color} hover:opacity-90` 
                                                                    : product.tier > localStorage.getItem('tier')
                                                                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                                                                    : `${tierInfo.color} hover:opacity-90`
                                                                } flex items-center justify-center gap-2"
                                                                ${product.tier > localStorage.getItem('tier') ? 'disabled' : ''}
                                                            >
                                                                <i class="fas fa-${product.tier <= localStorage.getItem('tier') ? 'plus' : 'lock'} text-xs sm:text-sm"></i>
                                                                Add to Inventory
                                                            </button>
                                                        `;
                                                        container.appendChild(div);
                                                    }
                                                }

                                                document.getElementById('scrollLeft').addEventListener('click', () => {
                                                    currentIndex = (currentIndex - 1 + allProducts.length) % allProducts.length;
                                                    displayCurrentProducts();
                                                });

                                                document.getElementById('scrollRight').addEventListener('click', () => {
                                                    currentIndex = (currentIndex + 1) % allProducts.length;
                                                    displayCurrentProducts();
                                                });

                                                document.addEventListener('DOMContentLoaded', fetchCodencyProducts);
                                                window.addEventListener('resize', displayCurrentProducts);
                                            </script>                                        
                                        
                                        </div>



                                        <div class="hidden sm:block sm:w-1/3 lg:w-1/3 bg-white p-3 rounded-lg shadow-lg text-gray-500 dark:text-gray-400">
                                            Notifications
                                        </div>
                                    </div>

                                    <div class="flex gap-4 pt-4 mb-1 md:mb-2.5 lg:mb-2.5">
                                        <div class="w-full bg-white p-2 sm:p-3 md:p-4 lg:p-4 rounded-lg shadow-lg">
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center gap-2">
                                                    <i class="fas fa-plus-circle text-green-500 text-lg sm:text-base md:text-lg lg:text-lg"></i>
                                                    <span class="hidden sm:block text-xs sm:text-sm md:text-base lg:text-base text-gray-500 dark:text-gray-400">Add Money</span>
                                                </div>
                                                <div class="h-6 w-px bg-gray-300"></div>
                                                <div class="flex items-center gap-2">
                                                    <i class="fas fa-minus-circle text-red-500 text-lg sm:text-base md:text-lg lg:text-lg"></i>
                                                    <span class="hidden sm:block text-xs sm:text-sm md:text-base lg:text-base text-gray-500 dark:text-gray-400">Withdraw</span>
                                                </div>
                                                <div class="h-6 w-px bg-gray-300"></div>
                                                <div class="flex items-center gap-2">
                                                    <i class="fas fa-bank text-blue-500 text-lg sm:text-base md:text-lg lg:text-lg"></i>
                                                    <span class="hidden sm:block text-xs sm:text-sm md:text-base lg:text-base text-gray-500 dark:text-gray-400">Connect Account</span>
                                                </div>
                                                <div class="h-6 w-px bg-gray-300"></div>
                                                <div class="flex items-center gap-2">
                                                    <i class="fas fa-box text-purple-500 text-lg sm:text-base md:text-lg lg:text-lg"></i>
                                                    <span class="hidden sm:block text-xs sm:text-sm md:text-base lg:text-base text-gray-500 dark:text-gray-400">Manage Inventory</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>                                    
                            </div>
                            
                            <!-- Inventory Section -->
                            <div id="inventory" class="section hidden bg-white dark:bg-gray-800 rounded-lg p-6 mb-8">
                            <h2 class="text-2xl font-bold mb-4 dark:text-white">Inventory Management</h2>
                            <p class="text-gray-600 dark:text-gray-300">Your inventory management content goes here.</p>
                            </div>

                            <!-- Notifications Section -->
                            <div id="notifications" class="section hidden bg-white dark:bg-gray-800 rounded-lg p-6 mb-8">
                            <h2 class="text-2xl font-bold mb-4 dark:text-white">Notifications</h2>
                            <p class="text-gray-600 dark:text-gray-300">Your notifications content goes here.</p>
                            </div>

                            <!-- Marketing Section -->
                            <div id="marketing" class="section hidden bg-white dark:bg-gray-800 rounded-lg p-6 mb-8">
                            <h2 class="text-2xl font-bold mb-4 dark:text-white">Marketing Tools</h2>
                            <p class="text-gray-600 dark:text-gray-300">Your marketing tools content goes here.</p>
                            </div>


                            <!-- Profile Section -->
                            <div id="profile" class="section hidden">
                                
                                    <div class="bg-white rounded-lg p-2 md:p-3 lg:p-4 mb-2 md:mb-3 lg:mb-4">

                                        <div class="flex flex-col sm:flex-row justify-between items-start mb-1 sm:mb-1 md:mb-1 lg:mb-1">
                                            <div class="flex items-center gap-2 sm:gap-3 md:gap-4 lg:gap-4">
                                                <video class="w-14 h-14 sm:w-16 sm:h-16 md:w-18 md:h-18 lg:w-24 lg:h-24 rounded-full" autoplay loop muted playsinline>
                                                    <source src="welcome.webm" type="video/webm">
                                                </video>
                                                     <h2 class="text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-gray-800"><script>
                                                        const fullName = localStorage.getItem('userName') || 'John Doe';
                                                        const firstName = fullName.split(' ')[0];
                                                        document.write(firstName);
                                                </script></h2>
                                            </div>
                                        </div> 

                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-3 lg:gap-4">

                                            <div class="space-y-4">
                                                <!--Personal information-->
                                                <div class="bg-gray-50 p-2 md:p-3 lg:p-4 rounded-lg">
                                                    <h3 class="text-sm md:text-base lg:text-base font-semibold text-gray-700 mb-2 md:mb-3 lg:mb-4">Personal Information</h3>
                                                    <div class="space-y-3 md:space-y-4 lg:space-y-5">
                                                        <div class="flex items-center">
                                                            <i class="fas fa-user text-gray-400 w-6 md:w-8 lg:w-8"></i>
                                                            <span class="text-xs text-gray-600 md:text-sm lg:text-base"><script>document.write(localStorage.getItem('userName') || 'Name')</script></span>
                                                        </div>
                                                        <div class="flex items-center">
                                                            <i class="fas fa-envelope text-gray-400 w-6 md:w-8 lg:w-8"></i>
                                                            <span class="text-xs text-gray-600 md:text-base lg:text-base"><script>document.write(localStorage.getItem('email') || 'Email')</script></span>
                                                        </div>
                                                        <div class="flex items-center">
                                                            <i class="fas fa-globe text-gray-400 w-6 md:w-8 lg:w-8"></i>
                                                            <span class="text-gray-600 text-xs md:text-base lg:text-base"><script>document.write(localStorage.getItem('country') || 'Country')</script></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--KYC information-->
                                                <div class="bg-gray-50 p-2 md:p-3 lg:p-4 rounded-lg mt-2 !mt-2 md:!mt-4 lg:!mt-6">
                                                    <div class="flex items-center justify-between mb-4">
                                                        <h3 class="text-sm md:text-base lg:text-base font-semibold text-gray-700">KYC Status</h3>
                                                        <script>
                                                            const kycStatus = localStorage.getItem('kycStatus') || 'unverified';
                                                            document.write(`
                                                                <span class="${kycStatus === 'verified' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'} px-2 py-1 rounded text-xs md:text-sm lg:text-base">
                                                                    ${kycStatus === 'verified' ? 'Verified' : 'Unverified'}
                                                                </span>
                                                            `);
                                                        </script>
                                                    </div>
                                                    <div class="space-y-3">
                                                        <div class="flex items-center">
                                                            <i class="fas fa-id-card text-gray-400 w-6"></i>
                                                            <script>
                                                                document.write(`
                                                                    <span class="text-xs md:text-base lg:text-base text-gray-600">
                                                                        ${kycStatus === 'verified' ? 'ID Verified' : 'ID Verification Required'}
                                                                    </span>
                                                                `);
                                                            </script>
                                                        </div>
                                                        <div class="flex items-center">
                                                            <i class="fas fa-address-card text-gray-400 w-6"></i>
                                                            <script>
                                                                document.write(`
                                                                    <span class="text-xs md:text-base lg:text-base text-gray-600">
                                                                        ${kycStatus === 'verified' ? 'Address Verified' : 'Address Verification Required'}
                                                                    </span>
                                                                `);
                                                            </script>
                                                        </div>
                                                        <div class="flex items-center">
                                                            <i class="fas fa-shield-alt text-gray-400 w-6"></i>
                                                            <script>
                                                                document.write(`
                                                                    <span class="text-xs md:text-base lg:text-base text-gray-600">
                                                                        ${kycStatus === 'verified' ? 'SSN: ***-**-****' : 'SSN Verification Required'}
                                                                    </span>
                                                                `);
                                                            </script>
                                                        </div>
                                                        <script>
                                                            if (kycStatus !== 'verified') {
                                                                document.write(`
                                                                    <div class="flex justify-start">
                                                                        <button class="bg-[#F9D43A] text-white py-1 md:py-2 lg:py-3 px-2 md:px-4 lg:px-6 rounded-lg text-xs md:text-sm lg:text-base hover:opacity-90">
                                                                            Verify Now
                                                                        </button>
                                                                    </div>
                                                                `);
                                                            }
                                                        </script>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="space-y-4">
                                                <!--Connected Accounts-->
                                                <div class="bg-gray-50 p-2 md:p-3 lg:p-4 rounded-lg">
                                                    <h3 class="text-sm md:text-base lg:text-base font-semibold text-gray-700 mb-2">Payout Accounts</h3>
                                                    <div class="space-y-3">
                                                        <div class="flex items-center justify-between">
                                                            <div class="flex items-center">
                                                                <i class="fas fa-university text-gray-400 mr-2"></i>
                                                                <div class="flex flex-col">
                                                                    <span class="text-xs md:text-base lg:text-base text-gray-600">Bank Wire</span>
                                                                    <span class="text-xs md:text-sm lg:text-sm text-gray-500">Bi-weekly payouts (Fridays)</span>
                                                                </div>
                                                            </div>
                                                            <span class="text-xs md:text-base lg:text-base text-green-600 text-sm" style="display: none" id="connectedStatus">Connected</span>
                                                        </div>
                                                        <script>
                                                            const bankInfo = localStorage.getItem('bankInfo');
                                                            const connectedStatus = document.getElementById('connectedStatus');
                                                            if (bankInfo) {
                                                                connectedStatus.style.display = 'inline';
                                                                const [name, account, bank, type] = bankInfo.split(',');
                                                                document.write(`
                                                                    <div class="mt-3 p-3 bg-white rounded-lg border border-gray-200">
                                                                        <div class="grid grid-cols-2 gap-2 text-sm">
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-500">Account Holder:</div>
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-700 font-medium">${name}</div>
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-500">Account Number:</div>
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-700 font-medium">****${account.slice(-4)}</div>
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-500">Bank Name:</div>
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-700 font-medium">${bank}</div>
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-500">Account Type:</div>
                                                                            <div class="text-xs md:text-base lg:text-base text-gray-700 font-medium">${type}</div>
                                                                        </div>
                                                                    </div>
                                                                `);
                                                            } else {
                                                                document.write(`
                                                                    <button class="flex items-center text-xs md:text-base lg:text-base text-blue-600 hover:text-blue-700 text-sm mt-2">
                                                                        <i class="fas fa-plus-circle mr-2"></i>
                                                                        Add Bank Account
                                                                    </button>
                                                                `);
                                                            }
                                                        </script>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>

                    
                    </div>


                            <!-- Settings and Currency Controls -->
                            <div class="fixed h-8 top-1 md:top-4 lg:top-4 right-4 flex space-x-2 lg:space-x-4">
                                <div id="tierBadge" class="inline-flex items-center px-3 py-1 rounded-full text-xs md:text-sm lg:text-sm font-medium">
                                <span class="mr-1.5" id="tierIcon"></span>
                                <span id="tierLabel" class="hidden md:block"></span>
                            </div>

                            <select id="currencySelect" class="appearance-none w-full p-2 md:pt-1.5 lg:pt-1.5 rounded-lg bg-gray-200 dark:bg-gray-700 text-xs md:text-sm lg:text-sm text-gray-800 dark:text-white pr-2">
                                <option value="1">USD</option>
                                <option value="2">GBP</option>
                                <option value="3">EUR</option>
                            </select> 
                    
                            <script>
                            document.getElementById('currencySelect').addEventListener('change', function() {
                                const selectedCurrency = this.value;
                                localStorage.setItem('currency', selectedCurrency);
                                
                                // Post to endpoint
                                fetch('/api/currency', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    currency: selectedCurrency
                                })
                                });
                            });

                            // Set initial value from localStorage
                            const savedCurrency = localStorage.getItem('currency');
                            if (savedCurrency) {
                                document.getElementById('currencySelect').value = savedCurrency;
                            }
                            </script>
                            </div>

                            <!-- Tier Badge Logic -->
                            <script>
                                            let tierInterval;
                                            
                                            function updateTier() {
                                            const tier = localStorage.getItem('tier') || '1';
                                            const tierBadge = document.getElementById('tierBadge');
                                            const tierIcon = document.getElementById('tierIcon');
                                            const tierLabel = document.getElementById('tierLabel');

                                            const tiers = {
                                                '1': { name: 'Explorer', color: 'bg-gray-200 text-gray-800', icon: 'ðŸŒŸ' },
                                                '2': { name: 'Starter', color: 'bg-blue-200 text-blue-800', icon: 'â­' },
                                                '3': { name: 'Reseller', color: 'bg-green-200 text-green-800', icon: 'ðŸ’«' },
                                                '4': { name: 'Power', color: 'bg-purple-200 text-purple-800', icon: 'âš¡' },
                                                '5': { name: 'Titan', color: 'bg-yellow-200 text-yellow-800', icon: 'ðŸ‘‘' }
                                            };

                                            const currentTier = tiers[tier];
                                            tierBadge.className = `inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${currentTier.color}`;
                                            tierIcon.textContent = currentTier.icon;
                                            tierLabel.textContent = currentTier.name;
                                            }

                                            document.addEventListener('DOMContentLoaded', function() {
                                                updateTier();
                                                tierInterval = setInterval(updateTier, 2000);
                                            });
                            </script>
        </div>
    </body>
</html>